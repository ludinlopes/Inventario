@*
    Directivas necesarias para acceder a la sesión.
    @using: Importa el namespace de las clases de C#.
    @inject: Inyecta el servicio IHttpContextAccessor para acceder a la sesión.
*@
@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor

@{
    // Obtiene el contexto HTTP de la solicitud actual
    var httpContext = HttpContextAccessor.HttpContext;

    // Obtiene los datos de la sucursal de la sesión
    string sucursalNombre = httpContext?.Session?.GetString("SucursalNombre");
    string sucursalAbrev = httpContext?.Session?.GetString("SucursalAbrev");
    int? sucursalID = httpContext?.Session?.GetInt32("SucursalID");
}

<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="~/css/mystyle.css">
    <title>Inventario | @sucursalNombre</title>
</head>
<body>
    @* La línea @RenderBody() es clave, aquí es donde se inserta el contenido de las otras vistas *@
    @RenderBody()

    <div class="encabezado">
        <h1>Busqueda de inventario</h1>

        @if (!string.IsNullOrEmpty(sucursalNombre))
        {
            @* Muestra el nombre y el ID de la sucursal logueada *@
            <h2>Sucursal: @sucursalNombre (@sucursalAbrev)</h2>
        }
        else
        {
            @* Mensaje si la sesión no tiene los datos (p.ej. antes de loguearse) *@
            <h2>Sucursal: No seleccionada</h2>
        }

        <p>Favor seleccione el tipo de busqueda e ingrese el valor buscado:</p>
    </div>

    <div class="contenido">
        <form class=factura-form action=@Url.Action("Consulta", "Home") method="post">
            <br>
            <input type="radio" id="InvGeneral" name="fav_language" value="Inventario General">
            <label for="InvGeneral">Inventario General</label><br>

            <input type="radio" id="Empleado" name="fav_language" value="Empleado">
            <label for="Empleado">Empleado</label><br>

            <input type="radio" id="Computadora" name="fav_language" value="Computadora">
            <label for="Computadora">Computadora / Laptop</label><br>

            <input type="radio" id="Monitor" name="fav_language" value="Monitor">
            <label for="Computadora">Monitor</label><br>

            <input type="radio" id="Impresora" name="fav_language" value="Impresora">
            <label for="Impresora">Impresora</label><br>

            <input type="radio" id="Scanner" name="fav_language" value="Scanner">
            <label for="Scanner">Scanner</label><br>

            <input type="radio" id="UPS" name="fav_language" value="UPS">
            <label for="Scanner">UPS</label><br>

            <input type="radio" id="Telefono" name="fav_language" value="Telefono">
            <label for="Scanner">Telefono</label><br>

            <input type="radio" id="Celular" name="fav_language" value="Celular">
            <label for="Scanner">Celular</label><br>

            <input type="radio" id="Tablet" name="fav_language" value="Tablet">
            <label for="Tablet">Tablet</label><br><br>

            <input type="text" id="Texto" class="Texto" name="Texto">

            <input class="boton" type="submit" value="Submit">
        </form>
    </div>

</body>
</html>