@model List<Inventario.Models.MListItems>
@{
    int contador = 1;
}

@* @foreach (var item in Model) // Nota: Model ya es la lista de items
{
    <tr>
        <td>@(contador++)</td>
        <td>@item.Tipo</td>
        <td>@item.No_Inventario</td>
        <td>@item.Serie</td>
        <td>@item.Modelo</td>
        <td>@item.Area</td>
        <td>@item.Estado</td>
        <td>@item.Nombre</td>
        <td>
            <a asp-action="Detalle"
               asp-controller="Inventario"
               asp-route-noInventario="@item.No_Inventario"
               class="btn btn-sm btn-outline-info"
               title="Ver Detalle">
                <i class="fas fa-eye"></i>
            </a>

            <a asp-action="viewItemEditIt"
               asp-controller="Articulo"
               asp-route-idItem="@item.No_Inventario"
               asp-route-Tipo="@item.Tipo"
               class="btn btn-sm btn-outline-warning"
               title="Editar">
                <i class="fas fa-edit"></i>
            </a>
        </td>
    </tr>
} *@





<h2 class="mb-4 text-dark">Inventario General de Activos</h2>

<!-- Indicadores Clave (KPIs) -->
<div class="row mb-4">
    <div class="col-md-3">
        <div class="p-3 bg-white border rounded shadow-sm text-center">
            <h5 class="text-primary">Total Activos</h5>
            <p class="fs-3 fw-bold" id="kpi-total">154</p>
        </div>
    </div>
    <div class="col-md-3">
        <div class="p-3 bg-white border rounded shadow-sm text-center">
            <h5 class="text-success">Asignados</h5>
            <p class="fs-3 fw-bold" id="kpi-assigned">120</p>
        </div>
    </div>
    <div class="col-md-3">
        <div class="p-3 bg-white border rounded shadow-sm text-center">
            <h5 class="text-warning">Sin Asignar</h5>
            <p class="fs-3 fw-bold" id="kpi-unassigned">34</p>
        </div>
    </div>
    <div class="col-md-3">
        <div class="p-3 bg-white border rounded shadow-sm text-center">
            <h5 class="text-danger">Próx. Mantenimiento</h5>
            <p class="fs-3 fw-bold" id="kpi-maintenance">12</p>
        </div>
    </div>
</div>

<!-- Panel de Búsqueda y Acciones -->
<div class="asset-card d-flex justify-content-between align-items-center">
    <div class="input-group" style="max-width: 400px;">
        <input type="text" class="form-control" placeholder="Buscar por Serial, Modelo o Empleado...">
        <button class="btn btn-primary" type="button"><i class="fas fa-search"></i></button>
    </div>

    <div>
        <button class="btn btn-outline-secondary me-2" onclick="showFilters()"><i class="fas fa-filter me-1"></i> Filtros Avanzados</button>
        <button class="btn btn-success" onclick="addNewAsset()"><i class="fas fa-plus me-1"></i> Nuevo Activo</button>
    </div>
</div>

<!-- Tabla de Inventario -->
<div class="asset-card">
    <h4 class="mb-3 text-secondary">Listado de Activos <span class="badge bg-info" id="asset-count">@Model.Count</span></h4>
    <div class="table-responsive table-scroll-vertical">
        <table class="table table-hover data-table align-middle">
            <thead class="table-light">
                <tr>
                    <th>#</th>
                    <th>Tipo</th>
                    <th>No. Inventario</th>
                    <th>Serial</th>
                    <th>Modelo</th>
                    <th>Ubicación</th>
                    <th>Estado</th>
                    <th>Asignado a</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody id="asset-list">

                @foreach (var item in Model) // Nota: Model ya es la lista de items
                {
                    <tr>
                        <td>@(contador++)</td>
                        <td>@item.Tipo</td>
                        <td>@item.No_Inventario</td>
                        <td>@item.Serie</td>
                        <td>@item.Modelo</td>
                        <td>@item.Area</td>
                        <td>@item.Estado</td>
                        <td>@item.Nombre</td>
                        <td>
                            <a asp-action="Detalle"
                               asp-controller="Inventario"
                               asp-route-noInventario="@item.No_Inventario"
                               class="btn btn-sm btn-outline-info"
                               title="Ver Detalle">
                                <i class="fas fa-eye"></i>
                            </a>

                            <a asp-action="viewItemEditIt"
                               asp-controller="Articulo"
                               asp-route-idItem="@item.No_Inventario"
                               asp-route-Tipo="@item.Tipo"
                               class="btn btn-sm btn-outline-warning"
                               title="Editar">
                                <i class="fas fa-edit"></i>
                            </a>
                        </td>
                    </tr>
                }

            </tbody>
        </table>
    </div>
</div>